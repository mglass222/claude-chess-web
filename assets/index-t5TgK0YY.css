:root{--light-square: #d9d7c3;--dark-square: #658047;--bg-color: #1a1a2e;--panel-bg: rgba(255, 255, 255, .06);--panel-text: #e0e0e0;--accent: #5b8fb9;--accent-hover: #6da0c8;--gold: #c9975c;--btn-radius: 8px;--accent-glow: rgba(91, 143, 185, .4);--gold-glow: rgba(201, 151, 92, .4);--glass-border: rgba(255, 255, 255, .1);--glass-blur: blur(16px);--glass-shadow: 0 8px 32px rgba(0, 0, 0, .3);--dialog-radius: 20px;--transition-medium: .25s ease}*{margin:0;padding:0;box-sizing:border-box}html,body{width:100%;height:100%;overflow:hidden;font-family:Inter,Segoe UI,Arial,sans-serif;background:linear-gradient(135deg,#1a1a2e,#16213e,#0f3460);color:var(--panel-text);-webkit-font-smoothing:antialiased}#app-container{width:100%;height:100%;display:flex;align-items:center;justify-content:center;position:relative}#game-layout{display:grid;grid-template-columns:220px 1fr 240px;gap:0;height:100vh;max-height:100vh;width:100%;max-width:1220px}#left-panel{background:var(--panel-bg);backdrop-filter:var(--glass-blur);-webkit-backdrop-filter:var(--glass-blur);display:flex;flex-direction:column;align-items:center;padding:80px 8px 10px;overflow-y:auto;border-right:1px solid var(--glass-border)}#board-column{display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start;padding:40px 0 10px;position:relative}#board-row{display:flex;align-items:stretch;gap:8px}#board-area{width:100%;max-width:min(80vh,700px);aspect-ratio:1;position:relative}#below-board{display:flex;align-items:center;justify-content:center;gap:16px;padding:10px 0;min-height:60px}#right-panel{background:var(--panel-bg);backdrop-filter:var(--glass-blur);-webkit-backdrop-filter:var(--glass-blur);display:flex;flex-direction:column;padding:80px 8px 10px;overflow:hidden;border-left:1px solid var(--glass-border)}@media(max-width:1000px){#game-layout{grid-template-columns:1fr;grid-template-rows:auto 1fr auto}#left-panel{flex-direction:row;flex-wrap:wrap;justify-content:center;border-right:none;border-bottom:1px solid var(--glass-border);padding:8px;order:-1}#right-panel{border-left:none;border-top:1px solid var(--glass-border);max-height:200px}#board-area{max-width:min(90vw,80vh)}}::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:#fff3;border-radius:3px}.board{display:grid;grid-template-columns:repeat(8,1fr);grid-template-rows:repeat(8,1fr);width:100%;height:100%;border:2px solid rgba(255,255,255,.12);border-radius:4px;position:relative;-webkit-user-select:none;user-select:none}.board.flipped{transform:rotate(180deg)}.square{position:relative;display:flex;align-items:center;justify-content:center}.square.light{background-color:var(--light-square)}.square.dark{background-color:var(--dark-square)}.square.selected{box-shadow:inset 0 0 0 4px #ffff00b3}.square.last-move{box-shadow:inset 0 0 0 4px #ffff004d}.square.check{background:radial-gradient(ellipse at center,rgba(255,0,0,.7) 0%,rgba(255,0,0,.3) 40%,transparent 70%)}.square.legal-move:after{content:"";position:absolute;width:30%;height:30%;background:#32c83299;border-radius:50%;pointer-events:none;z-index:2}.square.legal-capture:after{width:85%;height:85%;background:transparent;border:5px solid rgba(50,200,50,.5);border-radius:50%}.square.hint-from{background-color:#00dc004d!important;box-shadow:inset 0 0 0 3px #00dc00cc}.square.hint-to{background-color:#00dc0066!important;box-shadow:inset 0 0 0 3px #00dc00cc}.piece{width:100%;height:100%;position:absolute;top:0;left:0;z-index:3;pointer-events:none}.board.flipped .piece{transform:rotate(180deg)}.drag-ghost{position:fixed;z-index:1000;pointer-events:none;opacity:.9;filter:drop-shadow(0 4px 8px rgba(0,0,0,.4))}.label{position:absolute;font-size:11px;font-weight:600;pointer-events:none;z-index:4;line-height:1}.file-label{bottom:2px;right:3px}.rank-label{top:2px;left:3px}.label.on-light{color:var(--dark-square)}.label.on-dark{color:var(--light-square)}.board.flipped .label{transform:rotate(180deg)}.board-svg-overlay{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:5}.board.flipped .board-svg-overlay{transform:rotate(180deg)}.hint-arrow{pointer-events:none}.hint-btn{background:linear-gradient(135deg,var(--accent),#4a7a9e);color:#fff;border:1px solid rgba(255,255,255,.15);border-radius:var(--btn-radius);padding:10px 32px;font-size:16px;font-weight:600;cursor:pointer;transition:all var(--transition-medium)}.hint-btn:hover{transform:translateY(-1px);box-shadow:0 4px 16px var(--accent-glow);background:linear-gradient(135deg,var(--accent-hover),var(--accent))}.hint-btn:active{transform:translateY(0);box-shadow:0 2px 8px var(--accent-glow)}.replay-controls{display:flex;gap:12px}.replay-btn{background:linear-gradient(135deg,var(--accent),#4a7a9e);color:#fff;border:1px solid rgba(255,255,255,.15);border-radius:var(--btn-radius);width:50px;height:40px;font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition-medium)}.replay-btn:hover{transform:translateY(-1px);box-shadow:0 4px 16px var(--accent-glow);background:linear-gradient(135deg,var(--accent-hover),var(--accent))}.replay-btn:active{transform:translateY(0);box-shadow:0 2px 8px var(--accent-glow)}.left-panel-buttons{display:flex;flex-direction:column;gap:10px;width:100%;padding:8px 0}.panel-btn{background:linear-gradient(135deg,var(--accent),#4a7a9e);color:#fff;border:1px solid rgba(255,255,255,.15);border-radius:var(--btn-radius);padding:12px 16px;font-size:15px;font-weight:600;cursor:pointer;transition:all var(--transition-medium);width:100%}.panel-btn:hover{transform:translateY(-1px);box-shadow:0 4px 16px var(--accent-glow);background:linear-gradient(135deg,var(--accent-hover),var(--accent))}.panel-btn:active{transform:translateY(0);box-shadow:0 2px 8px var(--accent-glow)}.panel-btn:disabled{opacity:.4;cursor:default;pointer-events:none;transform:none;box-shadow:none}.depth-slider-container{width:100%;padding:16px 8px 8px;display:flex;flex-direction:column;align-items:center;gap:6px}.depth-label{font-size:11px;color:#e0e0e099;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.depth-slider{width:100%;cursor:pointer;accent-color:var(--accent)}.eval-bar{width:44px;height:100%;border:2px solid rgba(255,255,255,.12);border-radius:4px;position:relative;overflow:hidden;display:flex;flex-direction:column;flex-shrink:0}.eval-bar.flipped{flex-direction:column-reverse}.eval-black{background:#323232;height:50%;transition:height .1s}.eval-white{background:#f0f0f0;height:50%;transition:height .1s}.eval-score{position:absolute;font-size:12px;font-weight:700;text-align:center;width:100%;z-index:1}.eval-score.white-advantage{bottom:6px;color:#000}.eval-score.black-advantage{top:6px;color:#fff}.eval-score.calculating{top:50%;transform:translateY(-50%);color:#888}.eval-ticks{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.eval-tick{position:absolute;left:0;width:10px;height:1px;background:#96969680}.eval-center-line{position:absolute;top:50%;left:0;width:100%;height:1px;background:#969696b3}.move-list{display:flex;flex-direction:column;height:100%;overflow:hidden}.move-list-title{font-size:11px;font-weight:700;color:var(--accent);text-align:center;padding:8px 0;border-bottom:1px solid var(--glass-border);flex-shrink:0;text-transform:uppercase;letter-spacing:.1em}.move-list-content{flex:1;overflow-y:auto;padding:8px 4px}.move-list-empty{color:#888;text-align:center;padding:20px 0;font-size:14px}.move-row{display:grid;grid-template-columns:36px 1fr 1fr;gap:2px;padding:3px 4px;font-size:14px;line-height:1.6}.move-row:nth-child(2n){background:#ffffff08}.move-number{color:#888;font-weight:600;text-align:right;padding-right:6px}.move-san{cursor:pointer;padding:1px 6px;border-radius:3px;transition:background .1s}.move-san:hover{background:#ffffff1a}.move-san.active{background:var(--accent);color:#fff;font-weight:600;box-shadow:0 0 8px var(--accent-glow)}.player-info{display:flex;align-items:center;gap:10px;padding:4px 0;margin-left:52px}.player-avatar{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;flex-shrink:0;box-shadow:0 0 0 2px #ffffff26,0 2px 8px #0000004d}.player-avatar.white-piece{background:#f0f0f0;color:#222}.player-avatar.black-piece{background:#323232;color:#eee}.player-name{font-size:14px;font-weight:600;color:var(--panel-text)}.analysis-graph-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:#000000d9;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:20;gap:12px}.analysis-graph-canvas{max-width:95%;max-height:80%;border-radius:8px}.analysis-graph-close{background:linear-gradient(135deg,var(--accent),#4a7a9e);color:#fff;border:none;border-radius:var(--btn-radius);padding:8px 24px;font-size:14px;cursor:pointer;transition:all var(--transition-medium)}.analysis-graph-close:hover{transform:translateY(-1px);box-shadow:0 4px 16px var(--accent-glow);background:linear-gradient(135deg,var(--accent-hover),var(--accent))}.analysis-time-section{display:flex;flex-direction:column;align-items:center;gap:16px}.analysis-time-label{font-size:14px;color:#e0e0e0b3;font-weight:600}.analysis-time-options{display:flex;gap:8px}.analysis-time-btn{width:52px;height:44px;border:2px solid transparent;border-radius:8px;background:#ffffff14;color:var(--panel-text);font-size:16px;font-weight:700;cursor:pointer;transition:all var(--transition-medium);display:flex;align-items:center;justify-content:center}.analysis-time-btn:hover{background:#ffffff26;border-color:#fff3;transform:translateY(-1px)}.analysis-time-btn.selected{background:linear-gradient(135deg,var(--gold),#a07840);color:#fff;border-color:var(--gold);box-shadow:0 0 12px var(--gold-glow)}.analysis-progress{display:flex;flex-direction:column;align-items:center;gap:16px;width:80%;max-width:400px}.analysis-progress-text{font-size:18px;font-weight:600;color:#fff}.analysis-progress-bar-outer{width:100%;height:12px;background:#ffffff1a;border-radius:6px;overflow:hidden}.analysis-progress-bar-inner{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),#00c864);border-radius:6px;transition:width .3s ease}@media(max-width:1000px){.left-panel-buttons{flex-direction:row;flex-wrap:wrap;justify-content:center}.panel-btn{width:auto;padding:8px 14px;font-size:13px}.depth-slider-container{width:200px;padding:4px 8px}.eval-bar{width:30px}}.promotion-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:30}.promotion-dialog{display:flex;flex-direction:column;background:#1e1e2ef2;border:1px solid var(--glass-border);border-radius:12px;overflow:hidden;box-shadow:0 8px 32px #00000080}.promotion-piece{width:80px;height:80px;border:none;background:#ffffff0f;cursor:pointer;display:flex;align-items:center;justify-content:center;padding:4px;transition:background .15s}.promotion-piece:nth-child(2n){background:#ffffff08}.promotion-piece:hover{background:#5b8fb94d}.promotion-piece img{width:100%;height:100%}.settings-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:50}.settings-panel{background:#1e1e2ed9;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--dialog-radius);padding:30px 40px;min-width:320px;display:flex;flex-direction:column;align-items:center;gap:16px;box-shadow:0 8px 32px #0006,0 0 0 1px #ffffff0d}.settings-title{font-size:22px;font-weight:700;color:var(--accent);margin-bottom:8px}.settings-btn{background:linear-gradient(135deg,var(--gold),#a07840);color:#fff;border:none;border-radius:var(--btn-radius);padding:12px 24px;font-size:15px;font-weight:600;cursor:pointer;width:100%;transition:all var(--transition-medium)}.settings-btn:hover{transform:translateY(-1px);box-shadow:0 4px 16px var(--gold-glow)}.settings-btn.active{background:linear-gradient(135deg,var(--accent),#4a7a9e)}.settings-btn.active:hover{box-shadow:0 4px 16px var(--accent-glow)}.settings-close-btn{background:linear-gradient(135deg,var(--accent),#4a7a9e);margin-top:8px}.settings-close-btn:hover{box-shadow:0 4px 16px var(--accent-glow)}.settings-row{display:flex;align-items:center;gap:12px;width:100%;justify-content:center}.settings-vol-label{font-size:14px;font-weight:600;min-width:100px;text-align:center}.settings-btn-small{background:var(--gold);color:#fff;border:none;border-radius:50%;width:36px;height:36px;font-size:20px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all var(--transition-medium)}.settings-btn-small:hover{transform:scale(1.1);box-shadow:0 2px 8px var(--gold-glow)}.game-over-overlay{position:absolute;top:0;left:0;width:100%;height:100%;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:15}.game-over-inner{background:#1e1e2ee6;backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid var(--glass-border);border-radius:var(--dialog-radius);padding:32px 48px;text-align:center;box-shadow:0 8px 32px #0006,0 0 0 1px #ffffff0d}.game-over-result{font-size:32px;font-weight:700;color:#fff;margin-bottom:24px}.game-over-buttons{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}.go-btn{background:linear-gradient(135deg,var(--accent),#4a7a9e);color:#fff;border:none;border-radius:var(--btn-radius);padding:10px 24px;font-size:15px;font-weight:600;cursor:pointer;transition:all var(--transition-medium)}.go-btn:hover{transform:translateY(-1px);box-shadow:0 4px 16px var(--accent-glow);background:linear-gradient(135deg,var(--accent-hover),var(--accent))}.go-btn:active{transform:translateY(0);box-shadow:0 2px 8px var(--accent-glow)}.go-btn-secondary{background:linear-gradient(135deg,var(--gold),#a07840)}.go-btn-secondary:hover{box-shadow:0 4px 16px var(--gold-glow);background:linear-gradient(135deg,#d4a468,var(--gold))}.setup-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);display:flex;align-items:center;justify-content:center;z-index:50}.setup-panel{background:#1e1e2ed9;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid var(--glass-border);border-radius:var(--dialog-radius);padding:30px 40px;display:flex;flex-direction:column;align-items:center;gap:20px;box-shadow:0 8px 32px #0006,0 0 0 1px #ffffff0d}.setup-title{font-size:24px;font-weight:700;color:var(--accent);margin-bottom:4px}.setup-section{display:flex;flex-direction:column;align-items:center;gap:12px}.setup-label{font-size:18px;font-weight:700;color:var(--panel-text);margin:0}.color-selection{display:flex;gap:24px}.color-btn{display:flex;flex-direction:column;align-items:center;gap:6px;background:#ffffff0a;border:3px solid transparent;border-radius:12px;padding:12px;cursor:pointer;transition:all var(--transition-medium);color:var(--panel-text);font-size:14px;font-weight:600}.color-btn:hover{border-color:#fff3;background:#ffffff14;transform:translateY(-2px)}.color-btn.selected{border-color:var(--gold);background:#c9975c26;box-shadow:0 0 16px var(--gold-glow)}.color-king{width:80px;height:80px}.difficulty-selection{display:flex;gap:8px;flex-wrap:wrap;justify-content:center}.diff-btn{width:44px;height:44px;border:2px solid transparent;border-radius:8px;background:#ffffff14;color:var(--panel-text);font-size:18px;font-weight:700;cursor:pointer;transition:all var(--transition-medium);display:flex;align-items:center;justify-content:center}.diff-btn:hover{background:#ffffff26;border-color:#fff3;transform:translateY(-1px)}.diff-btn.selected{background:linear-gradient(135deg,var(--gold),#a07840);color:#fff;border-color:var(--gold);box-shadow:0 0 12px var(--gold-glow)}.start-btn{background:linear-gradient(135deg,var(--accent),#4a7a9e);color:#fff;border:none;border-radius:var(--btn-radius);padding:12px 48px;font-size:18px;font-weight:700;cursor:pointer;transition:all var(--transition-medium);margin-top:4px}.start-btn:hover{transform:translateY(-1px);box-shadow:0 4px 20px var(--accent-glow);background:linear-gradient(135deg,var(--accent-hover),var(--accent))}.start-btn:active{transform:translateY(0);box-shadow:0 2px 10px var(--accent-glow)}
